const menuToggle=document.getElementById("menu-toggle"),navbar=document.getElementById("navbar"),openIcon=menuToggle.querySelector(".open-icon"),closeIcon=menuToggle.querySelector(".close-icon");menuToggle.addEventListener("click",function(){navbar.classList.toggle("active"),menuToggle.classList.toggle("active")}),window.addEventListener("scroll",function(){const e=document.querySelector("header");window.scrollY>10?e.classList.add("scrolled"):e.classList.remove("scrolled")});const faders=document.querySelectorAll(".fade-in"),appearOptions={threshold:.2},appearOnScroll=new IntersectionObserver(function(e,t){e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("show"),t.unobserve(e.target))})},appearOptions);faders.forEach(e=>{appearOnScroll.observe(e)}),document.querySelectorAll("#navbar a").forEach(e=>{e.addEventListener("click",()=>{document.getElementById("navbar").classList.remove("active"),document.getElementById("menu-toggle").classList.remove("active")})});const modal=document.getElementById("project-modal"),modalImages=document.getElementById("modal-images"),modalDescription=document.getElementById("modal-description"),closeBtn=document.querySelector(".close-btn"),projectDetails={floor1:{images:["https://picsum.photos/seed/floor1a/600/400","https://picsum.photos/seed/floor1b/600/400","https://picsum.photos/seed/floor1c/600/400"],description:"Waterproof vinyl floor installed over leveled base."},kitchen1:{images:["https://picsum.photos/seed/kitchen1a/600/400","https://picsum.photos/seed/kitchen1b/600/400","https://picsum.photos/seed/kitchen1c/600/400"],description:"Modern white cabinets with granite countertops and LED lighting."},electric1:{images:["https://picsum.photos/seed/electric1a/600/400","https://picsum.photos/seed/electric1b/600/400","https://picsum.photos/seed/electric1c/600/400"],description:"Full panel upgrade to 200A with certified wiring."}};document.querySelectorAll(".project-item").forEach(e=>{e.addEventListener("click",()=>{const t=e.querySelector("img").alt.toLowerCase().replace(/\s+/g,""),o=projectDetails[t];o&&(modalImages.innerHTML=o.images.map(e=>`<img src="${e}" alt="">`).join(""),modalDescription.textContent=o.description,modal.style.display="block")})}),closeBtn.addEventListener("click",()=>{modal.style.display="none"}),window.addEventListener("click",e=>{e.target==modal&&(modal.style.display="none")}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contactForm");e&&e.addEventListener("submit",function(t){t.preventDefault();const o={name:e.elements.name.value,email:e.elements.email.value,message:e.elements.message.value};fetch("https://tony-construction-backend.onrender.com/send-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>{if(!e.ok)throw new Error("Failed to send email");return e.json()}).then(()=>{document.querySelector(".confirmation-message").style.display="block",e.reset(),setTimeout(()=>{document.querySelector(".confirmation-message").style.display="none"},4e3)}).catch(e=>{console.error("Email error:",e),alert("Oops! Something went wrong. Please try again later.")})})});